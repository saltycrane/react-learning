{"version":3,"sources":["webpack:///app.87cc62a74b36b9b75661.js","webpack:///./src/index.js","webpack:///./src/containers/Root.js","webpack:///./src/containers/Root.prod.js","webpack:///./src/containers/App.js","webpack:///./src/containers/CommentDetailContainer.js","webpack:///./src/containers/connectToRedux.js","webpack:///./src/actions.js","webpack:///./src/history.js","webpack:///./src/parse-api.js","webpack:///./src/components/Comment.js","webpack:///./src/components/StaticMap.js","webpack:///./src/util.js","webpack:///./src/containers/CommentsContainer.js","webpack:///./src/components/CommentForm.js","webpack:///./src/components/ImageForm.js","webpack:///./src/components/LocationForm.js","webpack:///./src/components/CommentList.js","webpack:///./src/containers/EditCommentContainer.js","webpack:///./src/containers/LastCommentContainer.js","webpack:///./src/components/About.js","webpack:///./src/configureStore.js","webpack:///./src/configureStore.prod.js","webpack:///./src/reducers.js"],"names":["webpackJsonp",0,"module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactDom2","_Root","_Root2","render","createElement","root",154,155,"_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_reactRedux","_App","_App2","_configureStore","_configureStore2","store","Root","_Component","this","getPrototypeOf","apply","arguments","Provider","Component",174,"_reactRouter","_CommentDetailContainer","_CommentDetailContainer2","_CommentsContainer","_CommentsContainer2","_EditCommentContainer","_EditCommentContainer2","_LastCommentContainer","_LastCommentContainer2","_About","_About2","_history","_history2","Tab","createClass","displayName","mixins","History","isActive","history","to","query","className","Link","Header","App","_Component2","children","AppWithRouter","_Component3","Router","Route","path","component","IndexRedirect",221,"_connectToRedux","_connectToRedux2","_Comment","_Comment2","CommentDetailContainer","actions","fetchComments","_props","id","params","comments","images","comment","find","item","objectId","element","commentObj","isDetailView",222,"mapStateToProps","state","isFetching","lastUpdated","items","location","mapDispatchToProps","dispatch","_redux","bindActionCreators","_actions","deleteComment","saveComment","editComment","cancelEditComment","saveImage","deleteSavedImage","deleteUnsavedImage","getLocation","setLocationFromUserInput","setLocationFromDetected","undoSetLocation","connect",223,"_interopRequireWildcard","newObj","hasOwnProperty","_requestComments","type","REQUEST_COMMENTS","_receiveComments","json","RECEIVE_COMMENTS","receivedAt","Date","now","_saveComment","SAVE_COMMENT","_receiveComment","RECEIVE_COMMENT","_deleteComment","DELETE_COMMENT","_receiveImage","image","RECEIVE_IMAGE","_deleteSavedImage","DELETE_SAVED_IMAGE","_deleteUnsavedImage","DELETE_UNSAVED_IMAGE","_actuallyFetchComments","parse","getComments","results","_shouldFetch","_getLocation","GET_LOCATION","_getLocationSuccess","coords","GET_LOCATION_SUCCESS","lat","latitude","lon","longitude","getState","Promise","resolve","result","undefined","goBack","file","filter","newComment","assign","deleteImage","locationText","SET_LOCATION_FROM_USER_INPUT","SET_LOCATION_FROM_DETECTED","UNDO_SET_LOCATION","navigator","geolocation","getCurrentPosition","position","err","console","error","code","message","enableHighAccuracy","SAVE_IMAGE","_parseApi",224,"_createHashHistory","_createHashHistory2",225,"callback","_parse2","Query","Comment","include","done","jsonResults","map","toJSON","fail","meessage","data","unsavedImages","commentId","save","object","forEach","linkImageToComment","destroy","parseFile","File","name","Image","imageData","_parse","initialize","extend",302,"_marked","_marked2","_StaticMap","_StaticMap2","_util","util","rawMarkup","text","toString","sanitize","__html","href","url","src","height","_props$isDetailView","viewButton","author","formatDate","createdAt","updatedAt","dangerouslySetInnerHTML","_rawMarkup","_renderImages","onClick",304,"StaticMap","locationElement","mapUrl",305,"isodate","_moment2","format","_moment",405,"_CommentForm","_CommentForm2","_CommentList","_CommentList2","CommentsContainer",406,"_toConsumableArray","arr","Array","isArray","arr2","from","_union","first","second","merged","concat","vals","uniqueVals","Set","val","_ImageForm","_ImageForm2","_LocationForm","_LocationForm2","CommentForm","_this","_handleSave","bind","e","preventDefault","_props$isEditView","isEditView","_authorInput","trim","_textInput","_locationForm","getValue","allImages","newCommentObj","_this2","_props2","_props2$isEditView","cancelButton","onSubmit","placeholder","defaultValue","ref","c","rows","initialLocationText",407,"DeletableImage","onDelete","ImageForm","_handleFileChange","files","_this3","onChange","_fileInput","savedImages","_renderFileInput",408,"LocationForm","_handleLocationChange","_locationInput",409,"CommentList","commentNodes",410,"EditCommentContainer",411,"LastCommentContainer",412,"About",413,414,"configureStore","initialState","finalCreateStore","_reducers2","_reduxThunk","_reduxThunk2","_reducers","compose","applyMiddleware","createStore",416,"_updateItem","update","didInvalidate","action","isNewComment","some","prevText","rootReducer",417],"mappings":"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","file":"app.87cc62a74b36b9b75661.js?","sourcesContent":["webpackJsonp([0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(153);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _Root = __webpack_require__(154);\n\t\n\tvar _Root2 = _interopRequireDefault(_Root);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(417);\n\t\n\t_reactDom2.default.render(_react2.default.createElement(_Root2.default, null), root);\n\n/***/ },\n\n/***/ 154:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* global __DEV__ */\n\t\n\tif (false) {\n\t    module.exports = require(\"./Root.dev\");\n\t} else {\n\t    module.exports = __webpack_require__(155);\n\t}\n\n/***/ },\n\n/***/ 155:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRedux = __webpack_require__(156);\n\t\n\tvar _App = __webpack_require__(174);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _configureStore = __webpack_require__(413);\n\t\n\tvar _configureStore2 = _interopRequireDefault(_configureStore);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar store = (0, _configureStore2.default)();\n\t\n\tvar Root = function (_Component) {\n\t    _inherits(Root, _Component);\n\t\n\t    function Root() {\n\t        _classCallCheck(this, Root);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(Root).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Root, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return _react2.default.createElement(\n\t                _reactRedux.Provider,\n\t                { store: store },\n\t                _react2.default.createElement(_App2.default, null)\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Root;\n\t}(_react.Component);\n\t\n\texports.default = Root;\n\n/***/ },\n\n/***/ 174:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(175);\n\t\n\tvar _CommentDetailContainer = __webpack_require__(221);\n\t\n\tvar _CommentDetailContainer2 = _interopRequireDefault(_CommentDetailContainer);\n\t\n\tvar _CommentsContainer = __webpack_require__(405);\n\t\n\tvar _CommentsContainer2 = _interopRequireDefault(_CommentsContainer);\n\t\n\tvar _EditCommentContainer = __webpack_require__(410);\n\t\n\tvar _EditCommentContainer2 = _interopRequireDefault(_EditCommentContainer);\n\t\n\tvar _LastCommentContainer = __webpack_require__(411);\n\t\n\tvar _LastCommentContainer2 = _interopRequireDefault(_LastCommentContainer);\n\t\n\tvar _About = __webpack_require__(412);\n\t\n\tvar _About2 = _interopRequireDefault(_About);\n\t\n\tvar _history = __webpack_require__(224);\n\t\n\tvar _history2 = _interopRequireDefault(_history);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// oh no, mixins! See here for alternatives:\n\t// https://github.com/rackt/react-router/blob/master/docs/API.md#but-im-using-classes\n\tvar Tab = _react2.default.createClass({\n\t    displayName: \"Tab\",\n\t\n\t    mixins: [_reactRouter.History],\n\t    render: function render() {\n\t        var isActive = this.history.isActive(this.props.to, this.props.query);\n\t        var className = isActive ? \"active\" : \"\";\n\t\n\t        return _react2.default.createElement(\n\t            \"li\",\n\t            { className: className },\n\t            _react2.default.createElement(_reactRouter.Link, this.props)\n\t        );\n\t    }\n\t});\n\t\n\tvar Header = function (_Component) {\n\t    _inherits(Header, _Component);\n\t\n\t    function Header() {\n\t        _classCallCheck(this, Header);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(Header).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Header, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return _react2.default.createElement(\n\t                \"nav\",\n\t                { className: \"navbar navbar-default\" },\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"container-fluid\" },\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"navbar-header\" },\n\t                        _react2.default.createElement(\n\t                            \"div\",\n\t                            { className: \"navbar-brand\" },\n\t                            \"H\"\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"ul\",\n\t                        { className: \"nav navbar-nav\" },\n\t                        _react2.default.createElement(\n\t                            Tab,\n\t                            { to: \"/comments\" },\n\t                            \"Comments\"\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            Tab,\n\t                            { to: \"/last\" },\n\t                            \"Last Comment\"\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            Tab,\n\t                            { to: \"/about\" },\n\t                            \"About\"\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Header;\n\t}(_react.Component);\n\t\n\tvar App = function (_Component2) {\n\t    _inherits(App, _Component2);\n\t\n\t    function App() {\n\t        _classCallCheck(this, App);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(App).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(App, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                _react2.default.createElement(Header, null),\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"container\" },\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"row\" },\n\t                        _react2.default.createElement(\n\t                            \"div\",\n\t                            { className: \"col-md-12\" },\n\t                            this.props.children\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return App;\n\t}(_react.Component);\n\t\n\tvar AppWithRouter = function (_Component3) {\n\t    _inherits(AppWithRouter, _Component3);\n\t\n\t    function AppWithRouter() {\n\t        _classCallCheck(this, AppWithRouter);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(AppWithRouter).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(AppWithRouter, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return _react2.default.createElement(\n\t                _reactRouter.Router,\n\t                { history: _history2.default },\n\t                _react2.default.createElement(\n\t                    _reactRouter.Route,\n\t                    { path: \"/\", component: App },\n\t                    _react2.default.createElement(_reactRouter.Route, { path: \"about\", component: _About2.default }),\n\t                    _react2.default.createElement(_reactRouter.Route, { path: \"comments/:id/edit\", component: _EditCommentContainer2.default }),\n\t                    _react2.default.createElement(_reactRouter.Route, { path: \"comments/:id\", component: _CommentDetailContainer2.default }),\n\t                    _react2.default.createElement(_reactRouter.Route, { path: \"comments\", component: _CommentsContainer2.default }),\n\t                    _react2.default.createElement(_reactRouter.Route, { path: \"last\", component: _LastCommentContainer2.default }),\n\t                    _react2.default.createElement(_reactRouter.IndexRedirect, { to: \"comments\" })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return AppWithRouter;\n\t}(_react.Component);\n\t\n\texports.default = AppWithRouter;\n\n/***/ },\n\n/***/ 221:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _connectToRedux = __webpack_require__(222);\n\t\n\tvar _connectToRedux2 = _interopRequireDefault(_connectToRedux);\n\t\n\tvar _Comment = __webpack_require__(302);\n\t\n\tvar _Comment2 = _interopRequireDefault(_Comment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CommentDetailContainer = function (_Component) {\n\t    _inherits(CommentDetailContainer, _Component);\n\t\n\t    function CommentDetailContainer() {\n\t        _classCallCheck(this, CommentDetailContainer);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(CommentDetailContainer).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(CommentDetailContainer, [{\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            var actions = this.props.actions;\n\t\n\t            actions.fetchComments();\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var id = _props.params.id;\n\t            var actions = _props.actions;\n\t            var comments = _props.comments;\n\t            var images = _props.images;\n\t\n\t            var comment = comments.find(function (item) {\n\t                return item.objectId === id;\n\t            });\n\t            var element = null;\n\t\n\t            if (comment) {\n\t                // comment will initially be undefined if hitting the detail page directly\n\t                // after receiving data from the API, it will re-render. isomorphism?\n\t                element = _react2.default.createElement(_Comment2.default, {\n\t                    commentObj: comment,\n\t                    images: images,\n\t                    actions: actions /* Send all the bound action creators to child components. Does this defeat the purpose of smart/dumb components? */,\n\t                    isDetailView: true\n\t                });\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"commentBox\" },\n\t                _react2.default.createElement(\n\t                    \"h3\",\n\t                    null,\n\t                    \"Comment \",\n\t                    id\n\t                ),\n\t                element\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CommentDetailContainer;\n\t}(_react.Component);\n\t\n\texports.default = (0, _connectToRedux2.default)(CommentDetailContainer);\n\n/***/ },\n\n/***/ 222:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _reactRedux = __webpack_require__(156);\n\t\n\tvar _redux = __webpack_require__(163);\n\t\n\tvar _actions = __webpack_require__(223);\n\t\n\tfunction mapStateToProps(state) {\n\t    return {\n\t        isFetching: state.comments.isFetching,\n\t        lastUpdated: state.comments.lastUpdated,\n\t        comments: state.comments.items,\n\t        images: state.images.items,\n\t        location: state.location\n\t    };\n\t}\n\t\n\tfunction mapDispatchToProps(dispatch) {\n\t    return {\n\t        actions: (0, _redux.bindActionCreators)({\n\t            fetchComments: _actions.fetchComments,\n\t            deleteComment: _actions.deleteComment,\n\t            saveComment: _actions.saveComment,\n\t            editComment: _actions.editComment,\n\t            cancelEditComment: _actions.cancelEditComment,\n\t            saveImage: _actions.saveImage,\n\t            deleteSavedImage: _actions.deleteSavedImage,\n\t            deleteUnsavedImage: _actions.deleteUnsavedImage,\n\t            getLocation: _actions.getLocation,\n\t            setLocationFromUserInput: _actions.setLocationFromUserInput,\n\t            setLocationFromDetected: _actions.setLocationFromDetected,\n\t            undoSetLocation: _actions.undoSetLocation\n\t        }, dispatch)\n\t    };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps);\n\n/***/ },\n\n/***/ 223:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.UNDO_SET_LOCATION = exports.SET_LOCATION_FROM_DETECTED = exports.SET_LOCATION_FROM_USER_INPUT = exports.GET_LOCATION_SUCCESS = exports.GET_LOCATION = exports.DELETE_UNSAVED_IMAGE = exports.DELETE_SAVED_IMAGE = exports.RECEIVE_IMAGE = exports.SAVE_IMAGE = exports.DELETE_COMMENT = exports.RECEIVE_COMMENT = exports.SAVE_COMMENT = exports.RECEIVE_COMMENTS = exports.REQUEST_COMMENTS = undefined;\n\texports.fetchComments = fetchComments;\n\texports.saveComment = saveComment;\n\texports.deleteComment = deleteComment;\n\texports.saveImage = saveImage;\n\texports.deleteSavedImage = deleteSavedImage;\n\texports.deleteUnsavedImage = deleteUnsavedImage;\n\texports.setLocationFromUserInput = setLocationFromUserInput;\n\texports.setLocationFromDetected = setLocationFromDetected;\n\texports.undoSetLocation = undoSetLocation;\n\texports.getLocation = getLocation;\n\t\n\tvar _history = __webpack_require__(224);\n\t\n\tvar _history2 = _interopRequireDefault(_history);\n\t\n\tvar _parseApi = __webpack_require__(225);\n\t\n\tvar parse = _interopRequireWildcard(_parseApi);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar REQUEST_COMMENTS = exports.REQUEST_COMMENTS = \"REQUEST_COMMENTS\";\n\tvar RECEIVE_COMMENTS = exports.RECEIVE_COMMENTS = \"RECEIVE_COMMENTS\";\n\tvar SAVE_COMMENT = exports.SAVE_COMMENT = \"SAVE_COMMENT\";\n\tvar RECEIVE_COMMENT = exports.RECEIVE_COMMENT = \"RECEIVE_COMMENT\";\n\tvar DELETE_COMMENT = exports.DELETE_COMMENT = \"DELETE_COMMENT\";\n\tvar SAVE_IMAGE = exports.SAVE_IMAGE = \"SAVE_IMAGE\";\n\tvar RECEIVE_IMAGE = exports.RECEIVE_IMAGE = \"RECEIVE_IMAGE\";\n\tvar DELETE_SAVED_IMAGE = exports.DELETE_SAVED_IMAGE = \"DELETE_SAVED_IMAGE\";\n\tvar DELETE_UNSAVED_IMAGE = exports.DELETE_UNSAVED_IMAGE = \"DELETE_UNSAVED_IMAGE\";\n\tvar GET_LOCATION = exports.GET_LOCATION = \"GET_LOCATION\";\n\tvar GET_LOCATION_SUCCESS = exports.GET_LOCATION_SUCCESS = \"GET_LOCATION_SUCCESS\";\n\tvar SET_LOCATION_FROM_USER_INPUT = exports.SET_LOCATION_FROM_USER_INPUT = \"SET_LOCATION_FROM_USER_INPUT\";\n\tvar SET_LOCATION_FROM_DETECTED = exports.SET_LOCATION_FROM_DETECTED = \"SET_LOCATION_FROM_DETECTED\";\n\tvar UNDO_SET_LOCATION = exports.UNDO_SET_LOCATION = \"UNDO_SET_LOCATION\";\n\t\n\t// ================\n\t// private functions\n\t// ================\n\tfunction _requestComments() {\n\t    return {\n\t        type: REQUEST_COMMENTS\n\t    };\n\t}\n\t\n\tfunction _receiveComments(json) {\n\t    return {\n\t        type: RECEIVE_COMMENTS,\n\t        comments: json,\n\t        receivedAt: Date.now()\n\t    };\n\t}\n\t\n\tfunction _saveComment(comment) {\n\t    return {\n\t        type: SAVE_COMMENT,\n\t        comment: comment\n\t    };\n\t}\n\t\n\tfunction _receiveComment(comment) {\n\t    return {\n\t        type: RECEIVE_COMMENT,\n\t        comment: comment\n\t    };\n\t}\n\t\n\tfunction _deleteComment(id) {\n\t    return {\n\t        type: DELETE_COMMENT,\n\t        id: id\n\t    };\n\t}\n\t\n\tfunction _receiveImage(image) {\n\t    return {\n\t        type: RECEIVE_IMAGE,\n\t        image: image\n\t    };\n\t}\n\t\n\tfunction _deleteSavedImage(id, comment) {\n\t    return {\n\t        type: DELETE_SAVED_IMAGE,\n\t        id: id,\n\t        comment: comment\n\t    };\n\t}\n\t\n\tfunction _deleteUnsavedImage(id) {\n\t    return {\n\t        type: DELETE_UNSAVED_IMAGE,\n\t        id: id\n\t    };\n\t}\n\t\n\tfunction _actuallyFetchComments() {\n\t    return function (dispatch) {\n\t        dispatch(_requestComments());\n\t        parse.getComments(function (results) {\n\t            return dispatch(_receiveComments(results));\n\t        });\n\t    };\n\t}\n\t\n\tfunction _shouldFetch(state) {\n\t    var comments = state.comments;\n\t\n\t    if (comments.isFetching) {\n\t        return false;\n\t    } else if (comments.items.length > 0) {\n\t        // assume the API always returns data.\n\t        // if this is not the case, add another flag, `hydrated`, or something\n\t        return false;\n\t    } else {\n\t        return true;\n\t    }\n\t}\n\t\n\tfunction _getLocation() {\n\t    return {\n\t        type: GET_LOCATION\n\t    };\n\t}\n\t\n\t// coords: {latitude, longitude}\n\tfunction _getLocationSuccess(coords) {\n\t    return {\n\t        type: GET_LOCATION_SUCCESS,\n\t        lat: coords.latitude,\n\t        lon: coords.longitude\n\t    };\n\t}\n\t\n\t// ================\n\t// public functions\n\t// ================\n\t// fetch comments if not already cached\n\tfunction fetchComments() {\n\t    return function (dispatch, getState) {\n\t        if (_shouldFetch(getState())) {\n\t            return dispatch(_actuallyFetchComments());\n\t        } else {\n\t            return Promise.resolve();\n\t        }\n\t    };\n\t}\n\t\n\tfunction saveComment(comment) {\n\t    return function (dispatch) {\n\t        dispatch(_saveComment(comment));\n\t        parse.saveComment(comment, function (result) {\n\t            return dispatch(_receiveComment(result));\n\t        });\n\t    };\n\t}\n\t\n\tfunction deleteComment(id) {\n\t    var isDetailView = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t    return function (dispatch) {\n\t        dispatch(_deleteComment(id));\n\t        if (isDetailView) {\n\t            _history2.default.goBack();\n\t        }\n\t        parse.deleteComment(id);\n\t    };\n\t}\n\t\n\tfunction saveImage(file) {\n\t    return function (dispatch) {\n\t        parse.saveImage(file, function (image) {\n\t            return dispatch(_receiveImage(image));\n\t        });\n\t    };\n\t}\n\t\n\t// delete the Image row and update the Comment images list\n\t// a \"saved image\" means an image saved with a comment\n\tfunction deleteSavedImage(id, comment) {\n\t    var images = comment.images.filter(function (item) {\n\t        return item.objectId !== id;\n\t    });\n\t    var newComment = Object.assign({}, comment, {\n\t        images: images\n\t    });\n\t\n\t    return function (dispatch) {\n\t        dispatch(_deleteSavedImage(id, newComment));\n\t        parse.deleteImage(id);\n\t        parse.saveComment(newComment);\n\t    };\n\t}\n\t\n\t// delete the Image row\n\t// an \"unsaved image\" means an image not saved with a comment\n\tfunction deleteUnsavedImage(id) {\n\t    return function (dispatch) {\n\t        dispatch(_deleteUnsavedImage(id));\n\t        parse.deleteImage(id);\n\t    };\n\t}\n\t\n\t// locationText: string\n\tfunction setLocationFromUserInput(locationText) {\n\t    return {\n\t        type: SET_LOCATION_FROM_USER_INPUT,\n\t        locationText: locationText\n\t    };\n\t}\n\t\n\tfunction setLocationFromDetected() {\n\t    // perform a getLocation() for next time around.\n\t    // not sure the best way to handle this.\n\t    getLocation();\n\t\n\t    return {\n\t        type: SET_LOCATION_FROM_DETECTED\n\t    };\n\t}\n\t\n\tfunction undoSetLocation() {\n\t    return {\n\t        type: UNDO_SET_LOCATION\n\t    };\n\t}\n\t\n\tfunction getLocation() {\n\t    return function (dispatch) {\n\t        dispatch(_getLocation());\n\t        navigator.geolocation.getCurrentPosition(function (position) {\n\t            dispatch(_getLocationSuccess(position.coords));\n\t        }, function (err) {\n\t            console.error(\"ERROR(\" + err.code + \"): \" + err.message);\n\t        }, {\n\t            enableHighAccuracy: true\n\t        });\n\t    };\n\t}\n\n/***/ },\n\n/***/ 224:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createHashHistory = __webpack_require__(178);\n\t\n\tvar _createHashHistory2 = _interopRequireDefault(_createHashHistory);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = (0, _createHashHistory2.default)();\n\n/***/ },\n\n/***/ 225:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Comment = undefined;\n\texports.getComments = getComments;\n\texports.saveComment = saveComment;\n\texports.deleteComment = deleteComment;\n\texports.saveImage = saveImage;\n\texports.linkImageToComment = linkImageToComment;\n\texports.deleteImage = deleteImage;\n\t\n\tvar _parse = __webpack_require__(226);\n\t\n\tvar _parse2 = _interopRequireDefault(_parse);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_parse2.default.initialize(\"rdOxoEPZqN4I8RvIkmcWmPK0xcaR7EfrIDj0WFYh\", \"EFEekvA7WVsPTN0SGiNYsHWvaiUiSdwWiJoZ6pMU\");\n\t\n\tvar Comment = exports.Comment = _parse2.default.Object.extend(\"Comment\");\n\tvar Image = _parse2.default.Object.extend(\"Image\");\n\t\n\tfunction getComments(callback) {\n\t    var query = new _parse2.default.Query(Comment);\n\t    query.include(\"images\");\n\t    query.find().done(function (results) {\n\t        var jsonResults = results.map(function (item) {\n\t            return item.toJSON();\n\t        });\n\t        callback(jsonResults);\n\t    }).fail(function (error) {\n\t        console.error(\"Error: \" + error.code + \" \" + error.meessage);\n\t    });\n\t}\n\t\n\tfunction saveComment(data, callback) {\n\t    var comment = new Comment();\n\t    // \"unsaved images\" are images that are not yet saved with a comment\n\t    var unsavedImages = data.images.filter(function (item) {\n\t        return !item.commentId;\n\t    });\n\t\n\t    comment.save(data).done(function (object) {\n\t        var commentId = object.id;\n\t\n\t        // update the commentId field for any images that do not have\n\t        // a commentId yet (\"unsaved images\")\n\t        unsavedImages.forEach(function (image) {\n\t            linkImageToComment(image, commentId);\n\t        });\n\t\n\t        if (callback) {\n\t            callback(object.toJSON());\n\t        }\n\t    });\n\t}\n\t\n\tfunction deleteComment(id) {\n\t    var comment = new Comment();\n\t    comment.id = id;\n\t    comment.destroy();\n\t    // TODO: error handling. on failure, put the comment back in the state.\n\t}\n\t\n\t// first save the File object, then store the file in the Image table\n\t// file - a file object uploaded via a file <input>\n\tfunction saveImage(file, callback) {\n\t    var parseFile = new _parse2.default.File(file.name, file);\n\t    parseFile.save().done(function () {\n\t        var image = new Image();\n\t        image.save({\n\t            file: parseFile\n\t        }).done(function (object) {\n\t            callback(object.toJSON());\n\t        });\n\t    });\n\t}\n\t\n\tfunction linkImageToComment(imageData, commentId) {\n\t    var image = new Image();\n\t    imageData.commentId = commentId;\n\t    image.save(imageData);\n\t}\n\t\n\tfunction deleteImage(id) {\n\t    var image = new Image();\n\t    image.id = id;\n\t    image.destroy();\n\t}\n\n/***/ },\n\n/***/ 302:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(175);\n\t\n\tvar _marked = __webpack_require__(303);\n\t\n\tvar _marked2 = _interopRequireDefault(_marked);\n\t\n\tvar _StaticMap = __webpack_require__(304);\n\t\n\tvar _StaticMap2 = _interopRequireDefault(_StaticMap);\n\t\n\tvar _util = __webpack_require__(305);\n\t\n\tvar util = _interopRequireWildcard(_util);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Comment = function (_Component) {\n\t    _inherits(Comment, _Component);\n\t\n\t    function Comment() {\n\t        _classCallCheck(this, Comment);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(Comment).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Comment, [{\n\t        key: \"_rawMarkup\",\n\t        value: function _rawMarkup() {\n\t            var commentObj = this.props.commentObj;\n\t\n\t            var rawMarkup = null;\n\t\n\t            if (commentObj.text) {\n\t                rawMarkup = (0, _marked2.default)(commentObj.text.toString(), { sanitize: true });\n\t            }\n\t            return { __html: rawMarkup };\n\t        }\n\t    }, {\n\t        key: \"_renderImages\",\n\t        value: function _renderImages() {\n\t            var commentObj = this.props.commentObj;\n\t\n\t            var element = null;\n\t\n\t            if (commentObj.images) {\n\t                element = commentObj.images.map(function (image) {\n\t                    return _react2.default.createElement(\n\t                        \"a\",\n\t                        { href: image.file.url, key: image.objectId },\n\t                        _react2.default.createElement(\"img\", {\n\t                            src: image.file.url,\n\t                            height: \"150px\"\n\t                        })\n\t                    );\n\t                });\n\t            }\n\t            return element;\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var commentObj = _props.commentObj;\n\t            var actions = _props.actions;\n\t            var _props$isDetailView = _props.isDetailView;\n\t            var isDetailView = _props$isDetailView === undefined ? false : _props$isDetailView;\n\t\n\t            var viewButton = null;\n\t\n\t            if (!isDetailView) {\n\t                viewButton = _react2.default.createElement(\n\t                    _reactRouter.Link,\n\t                    {\n\t                        className: \"btn btn-default\",\n\t                        to: \"/comments/\" + commentObj.objectId\n\t                    },\n\t                    \"View\"\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"comment well\" },\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"clearfix\" },\n\t                    _react2.default.createElement(\n\t                        \"h5\",\n\t                        null,\n\t                        commentObj.author,\n\t                        \"\",\n\t                        _react2.default.createElement(\n\t                            \"small\",\n\t                            null,\n\t                            \"created \",\n\t                            util.formatDate(commentObj.createdAt),\n\t                            \"| updated \",\n\t                            util.formatDate(commentObj.updatedAt)\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"pull-right\" },\n\t                        _react2.default.createElement(_StaticMap2.default, { location: commentObj.location })\n\t                    ),\n\t                    _react2.default.createElement(\"span\", { dangerouslySetInnerHTML: this._rawMarkup() }),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"margin-md-bottom\" },\n\t                        this._renderImages()\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            \"button\",\n\t                            {\n\t                                className: \"btn btn-default margin-md-right\",\n\t                                onClick: function onClick() {\n\t                                    return actions.deleteComment(commentObj.objectId, isDetailView);\n\t                                }\n\t                            },\n\t                            \"Delete\"\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            _reactRouter.Link,\n\t                            {\n\t                                className: \"btn btn-default margin-md-right\",\n\t                                to: \"/comments/\" + commentObj.objectId + \"/edit\"\n\t                            },\n\t                            \"Edit\"\n\t                        ),\n\t                        viewButton\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Comment;\n\t}(_react.Component);\n\t\n\texports.default = Comment;\n\n/***/ },\n\n/***/ 304:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar StaticMap = function (_Component) {\n\t    _inherits(StaticMap, _Component);\n\t\n\t    function StaticMap() {\n\t        _classCallCheck(this, StaticMap);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(StaticMap).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(StaticMap, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            var location = this.props.location;\n\t\n\t            var locationElement = null;\n\t\n\t            if (location) {\n\t                var mapUrl = \"http://maps.googleapis.com/maps/api/staticmap?size=275x275&zoom=12&markers=color:red|\" + location;\n\t                locationElement = _react2.default.createElement(\n\t                    \"div\",\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        \"a\",\n\t                        { href: \"https://www.google.com/maps/place/\" + location },\n\t                        _react2.default.createElement(\"img\", { src: mapUrl, className: \"img-responsive\" }),\n\t                        _react2.default.createElement(\n\t                            \"div\",\n\t                            { className: \"comment-metadata\" },\n\t                            \"Location: \",\n\t                            location\n\t                        )\n\t                    )\n\t                );\n\t            }\n\t            return locationElement;\n\t        }\n\t    }]);\n\t\n\t    return StaticMap;\n\t}(_react.Component);\n\t\n\texports.default = StaticMap;\n\n/***/ },\n\n/***/ 305:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.formatDate = formatDate;\n\t\n\tvar _moment = __webpack_require__(306);\n\t\n\tvar _moment2 = _interopRequireDefault(_moment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction formatDate(isodate) {\n\t    return (0, _moment2.default)(isodate).format(\"YYYY-MM-DD h:mm a\");\n\t}\n\n/***/ },\n\n/***/ 405:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _connectToRedux = __webpack_require__(222);\n\t\n\tvar _connectToRedux2 = _interopRequireDefault(_connectToRedux);\n\t\n\tvar _CommentForm = __webpack_require__(406);\n\t\n\tvar _CommentForm2 = _interopRequireDefault(_CommentForm);\n\t\n\tvar _CommentList = __webpack_require__(409);\n\t\n\tvar _CommentList2 = _interopRequireDefault(_CommentList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CommentsContainer = function (_Component) {\n\t    _inherits(CommentsContainer, _Component);\n\t\n\t    function CommentsContainer() {\n\t        _classCallCheck(this, CommentsContainer);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(CommentsContainer).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(CommentsContainer, [{\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            var actions = this.props.actions;\n\t\n\t            actions.fetchComments();\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var comments = _props.comments;\n\t            var images = _props.images;\n\t            var location = _props.location;\n\t            var actions = _props.actions;\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"commentBox\" },\n\t                _react2.default.createElement(\n\t                    \"h3\",\n\t                    null,\n\t                    \"Comments\"\n\t                ),\n\t                _react2.default.createElement(_CommentList2.default, {\n\t                    data: comments,\n\t                    actions: actions\n\t                }),\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        \"h4\",\n\t                        null,\n\t                        \"Add a comment\"\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"well\" },\n\t                        _react2.default.createElement(_CommentForm2.default, {\n\t                            commentObj: {} /* when adding new comments, commentObj is empty */,\n\t                            images: images,\n\t                            location: location,\n\t                            actions: actions\n\t                        })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CommentsContainer;\n\t}(_react.Component);\n\t\n\texports.default = (0, _connectToRedux2.default)(CommentsContainer);\n\n/***/ },\n\n/***/ 406:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _ImageForm = __webpack_require__(407);\n\t\n\tvar _ImageForm2 = _interopRequireDefault(_ImageForm);\n\t\n\tvar _LocationForm = __webpack_require__(408);\n\t\n\tvar _LocationForm2 = _interopRequireDefault(_LocationForm);\n\t\n\tvar _history = __webpack_require__(224);\n\t\n\tvar _history2 = _interopRequireDefault(_history);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _union(first, second, key) {\n\t    // merge the two arrays ensuring each item is unique (based on key)\n\t    // better way to do this?\n\t    var merged = [].concat(_toConsumableArray(first), _toConsumableArray(second));\n\t    var vals = merged.map(function (item) {\n\t        return item[key];\n\t    });\n\t    var uniqueVals = [].concat(_toConsumableArray(new Set(vals)));\n\t\n\t    return uniqueVals.map(function (val) {\n\t        return merged.find(function (item) {\n\t            return item[key] === val;\n\t        });\n\t    });\n\t}\n\t\n\tvar CommentForm = function (_Component) {\n\t    _inherits(CommentForm, _Component);\n\t\n\t    function CommentForm(props) {\n\t        _classCallCheck(this, CommentForm);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(CommentForm).call(this, props));\n\t\n\t        _this._handleSave = _this._handleSave.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CommentForm, [{\n\t        key: \"_handleSave\",\n\t        value: function _handleSave(e) {\n\t            e.preventDefault();\n\t            var _props = this.props;\n\t            var commentObj = _props.commentObj;\n\t            var images = _props.images;\n\t            var actions = _props.actions;\n\t            var _props$isEditView = _props.isEditView;\n\t            var isEditView = _props$isEditView === undefined ? false : _props$isEditView;\n\t\n\t            var author = this._authorInput.value.trim();\n\t            var text = this._textInput.value.trim();\n\t            var location = this._locationForm.getValue();\n\t            var allImages = undefined;\n\t\n\t            // TODO: perform the union in reducers.js\n\t            // get the union of the existing images and the newly added images\n\t            if (commentObj.images) {\n\t                allImages = _union(commentObj.images, images, \"objectId\");\n\t            } else {\n\t                allImages = images;\n\t            }\n\t\n\t            var newCommentObj = Object.assign({}, commentObj, {\n\t                author: author,\n\t                text: text,\n\t                location: location,\n\t                images: allImages\n\t            });\n\t\n\t            if (!text || !author) {\n\t                return;\n\t            }\n\t            actions.saveComment(newCommentObj);\n\t            this._authorInput.value = \"\";\n\t            this._textInput.value = \"\";\n\t            if (isEditView) {\n\t                _history2.default.goBack();\n\t            }\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _this2 = this;\n\t\n\t            var _props2 = this.props;\n\t            var commentObj = _props2.commentObj;\n\t            var images = _props2.images;\n\t            var location = _props2.location;\n\t            var actions = _props2.actions;\n\t            var _props2$isEditView = _props2.isEditView;\n\t            var isEditView = _props2$isEditView === undefined ? false : _props2$isEditView;\n\t\n\t            var cancelButton = null;\n\t\n\t            if (isEditView) {\n\t                cancelButton = _react2.default.createElement(\n\t                    \"span\",\n\t                    {\n\t                        className: \"btn btn-default margin-md-right\",\n\t                        onClick: _history2.default.goBack\n\t                    },\n\t                    \"Cancel\"\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"form\",\n\t                { onSubmit: this._handleSave },\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"form-group\" },\n\t                    _react2.default.createElement(\n\t                        \"label\",\n\t                        null,\n\t                        \"Name\"\n\t                    ),\n\t                    _react2.default.createElement(\"input\", {\n\t                        className: \"form-control\",\n\t                        type: \"text\",\n\t                        placeholder: \"Your name\",\n\t                        defaultValue: commentObj.author,\n\t                        ref: function ref(c) {\n\t                            return _this2._authorInput = c;\n\t                        } })\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"form-group\" },\n\t                    _react2.default.createElement(\n\t                        \"label\",\n\t                        null,\n\t                        \"Comment\"\n\t                    ),\n\t                    _react2.default.createElement(\"textarea\", {\n\t                        className: \"form-control\",\n\t                        rows: \"5\",\n\t                        type: \"text\",\n\t                        placeholder: \"Say something...\",\n\t                        defaultValue: commentObj.text,\n\t                        ref: function ref(c) {\n\t                            return _this2._textInput = c;\n\t                        } })\n\t                ),\n\t                _react2.default.createElement(_LocationForm2.default, {\n\t                    location: location,\n\t                    actions: actions,\n\t                    initialLocationText: commentObj.location,\n\t                    ref: function ref(c) {\n\t                        return _this2._locationForm = c;\n\t                    }\n\t                }),\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"margin-md-bottom\" },\n\t                    _react2.default.createElement(_ImageForm2.default, {\n\t                        commentObj: commentObj,\n\t                        images: images,\n\t                        actions: actions\n\t                    })\n\t                ),\n\t                cancelButton,\n\t                _react2.default.createElement(\n\t                    \"button\",\n\t                    { className: \"btn btn-primary\", type: \"submit\" },\n\t                    \"Save\"\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CommentForm;\n\t}(_react.Component);\n\t\n\texports.default = CommentForm;\n\n/***/ },\n\n/***/ 407:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DeletableImage = function (_Component) {\n\t    _inherits(DeletableImage, _Component);\n\t\n\t    function DeletableImage() {\n\t        _classCallCheck(this, DeletableImage);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(DeletableImage).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(DeletableImage, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var image = _props.image;\n\t            var onDelete = _props.onDelete;\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"img-container\" },\n\t                _react2.default.createElement(\"img\", {\n\t                    src: image.file.url,\n\t                    height: \"150px\"\n\t                }),\n\t                _react2.default.createElement(\n\t                    \"span\",\n\t                    {\n\t                        className: \"btn-delete btn btn-default\",\n\t                        onClick: onDelete\n\t                    },\n\t                    _react2.default.createElement(\"i\", { className: \"fa fa-times\" })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return DeletableImage;\n\t}(_react.Component);\n\t\n\tvar ImageForm = function (_Component2) {\n\t    _inherits(ImageForm, _Component2);\n\t\n\t    function ImageForm(props) {\n\t        _classCallCheck(this, ImageForm);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(ImageForm).call(this, props));\n\t\n\t        _this2._handleFileChange = _this2._handleFileChange.bind(_this2);\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(ImageForm, [{\n\t        key: \"_handleFileChange\",\n\t        value: function _handleFileChange(e) {\n\t            var actions = this.props.actions;\n\t\n\t            var file = e.target.files[0];\n\t            actions.saveImage(file);\n\t        }\n\t    }, {\n\t        key: \"_renderFileInput\",\n\t        value: function _renderFileInput() {\n\t            var _this3 = this;\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"form-group\" },\n\t                _react2.default.createElement(\n\t                    \"label\",\n\t                    null,\n\t                    \"Add Image\"\n\t                ),\n\t                _react2.default.createElement(\"input\", {\n\t                    className: \"form-control\",\n\t                    type: \"file\",\n\t                    onChange: this._handleFileChange,\n\t                    ref: function ref(c) {\n\t                        return _this3._fileInput = c;\n\t                    }\n\t                })\n\t            );\n\t        }\n\t    }, {\n\t        key: \"_renderImages\",\n\t        value: function _renderImages() {\n\t            var _props2 = this.props;\n\t            var commentObj = _props2.commentObj;\n\t            var images = _props2.images;\n\t            var actions = _props2.actions;\n\t\n\t            var savedImages = null;\n\t            var unsavedImages = null;\n\t\n\t            if (commentObj.images) {\n\t                savedImages = commentObj.images.map(function (image) {\n\t                    return _react2.default.createElement(DeletableImage, {\n\t                        key: image.objectId,\n\t                        image: image,\n\t                        onDelete: function onDelete() {\n\t                            return actions.deleteSavedImage(image.objectId, commentObj);\n\t                        }\n\t                    });\n\t                });\n\t            }\n\t            if (images) {\n\t                unsavedImages = images.map(function (image) {\n\t                    return _react2.default.createElement(DeletableImage, {\n\t                        key: image.objectId,\n\t                        image: image,\n\t                        onDelete: function onDelete() {\n\t                            return actions.deleteUnsavedImage(image.objectId);\n\t                        }\n\t                    });\n\t                });\n\t            }\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                savedImages,\n\t                unsavedImages\n\t            );\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                this._renderFileInput(),\n\t                this._renderImages()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ImageForm;\n\t}(_react.Component);\n\t\n\texports.default = ImageForm;\n\n/***/ },\n\n/***/ 408:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _StaticMap = __webpack_require__(304);\n\t\n\tvar _StaticMap2 = _interopRequireDefault(_StaticMap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LocationForm = function (_Component) {\n\t    _inherits(LocationForm, _Component);\n\t\n\t    function LocationForm(props) {\n\t        _classCallCheck(this, LocationForm);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(LocationForm).call(this, props));\n\t\n\t        _this._handleLocationChange = _this._handleLocationChange.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(LocationForm, [{\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            var _props = this.props;\n\t            var initialLocationText = _props.initialLocationText;\n\t            var actions = _props.actions;\n\t\n\t            actions.setLocationFromUserInput(initialLocationText);\n\t            actions.getLocation();\n\t        }\n\t    }, {\n\t        key: \"_handleLocationChange\",\n\t        value: function _handleLocationChange(e) {\n\t            var actions = this.props.actions;\n\t\n\t            actions.setLocationFromUserInput(e.target.value);\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _this2 = this;\n\t\n\t            var _props2 = this.props;\n\t            var locationText = _props2.location.text;\n\t            var actions = _props2.actions;\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"row\" },\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"col-md-6\" },\n\t                    _react2.default.createElement(\n\t                        \"label\",\n\t                        null,\n\t                        \"Location\"\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"margin-md-bottom\" },\n\t                        _react2.default.createElement(\n\t                            \"div\",\n\t                            { className: \"form-group\" },\n\t                            _react2.default.createElement(\"input\", {\n\t                                className: \"form-control margin-sm-bottom\",\n\t                                type: \"text\",\n\t                                value: locationText,\n\t                                onChange: this._handleLocationChange,\n\t                                ref: function ref(c) {\n\t                                    return _this2._locationInput = c;\n\t                                }\n\t                            }),\n\t                            _react2.default.createElement(\n\t                                \"button\",\n\t                                {\n\t                                    className: \"btn btn-default margin-sm-right\",\n\t                                    type: \"button\",\n\t                                    onClick: actions.setLocationFromDetected\n\t                                },\n\t                                \"Get Location\"\n\t                            ),\n\t                            _react2.default.createElement(\n\t                                \"button\",\n\t                                {\n\t                                    className: \"btn btn-default\",\n\t                                    type: \"button\",\n\t                                    onClick: actions.undoSetLocation\n\t                                },\n\t                                \"Undo\"\n\t                            )\n\t                        )\n\t                    )\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"col-md-6\" },\n\t                    _react2.default.createElement(_StaticMap2.default, { location: locationText })\n\t                )\n\t            );\n\t        }\n\t        // called by owner component via this.refs\n\t        // https://facebook.github.io/react/tips/expose-component-functions.html\n\t        // TODO: better way?\n\t\n\t    }, {\n\t        key: \"getValue\",\n\t        value: function getValue() {\n\t            return this._locationInput.value.trim();\n\t        }\n\t    }]);\n\t\n\t    return LocationForm;\n\t}(_react.Component);\n\t\n\texports.default = LocationForm;\n\n/***/ },\n\n/***/ 409:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Comment = __webpack_require__(302);\n\t\n\tvar _Comment2 = _interopRequireDefault(_Comment);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CommentList = function (_Component) {\n\t    _inherits(CommentList, _Component);\n\t\n\t    function CommentList() {\n\t        _classCallCheck(this, CommentList);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(CommentList).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(CommentList, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var data = _props.data;\n\t            var actions = _props.actions;\n\t\n\t            var commentNodes = data.map(function (comment) {\n\t                return _react2.default.createElement(_Comment2.default, {\n\t                    key: comment.objectId,\n\t                    commentObj: comment,\n\t                    actions: actions\n\t                });\n\t            });\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"commentList\" },\n\t                commentNodes\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CommentList;\n\t}(_react.Component);\n\t\n\texports.default = CommentList;\n\n/***/ },\n\n/***/ 410:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _connectToRedux = __webpack_require__(222);\n\t\n\tvar _connectToRedux2 = _interopRequireDefault(_connectToRedux);\n\t\n\tvar _CommentForm = __webpack_require__(406);\n\t\n\tvar _CommentForm2 = _interopRequireDefault(_CommentForm);\n\t\n\tvar _util = __webpack_require__(305);\n\t\n\tvar util = _interopRequireWildcard(_util);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar EditCommentContainer = function (_Component) {\n\t    _inherits(EditCommentContainer, _Component);\n\t\n\t    function EditCommentContainer() {\n\t        _classCallCheck(this, EditCommentContainer);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(EditCommentContainer).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(EditCommentContainer, [{\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            var actions = this.props.actions;\n\t\n\t            actions.fetchComments();\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var id = _props.params.id;\n\t            var actions = _props.actions;\n\t            var comments = _props.comments;\n\t            var images = _props.images;\n\t            var location = _props.location;\n\t\n\t            var commentObj = comments.find(function (item) {\n\t                return item.objectId === id;\n\t            });\n\t            var element = null;\n\t\n\t            if (commentObj) {\n\t                element = _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"well\" },\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"comment-metadata margin-md-bottom\" },\n\t                        \"created \",\n\t                        util.formatDate(commentObj.createdAt),\n\t                        \"| updated \",\n\t                        util.formatDate(commentObj.updatedAt)\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"margin-md-bottom\" },\n\t                        _react2.default.createElement(_CommentForm2.default, {\n\t                            commentObj: commentObj,\n\t                            images: images,\n\t                            location: location,\n\t                            actions: actions,\n\t                            isEditView: true\n\t                        })\n\t                    )\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"commentBox\" },\n\t                _react2.default.createElement(\n\t                    \"h3\",\n\t                    null,\n\t                    \"Editing Comment \",\n\t                    id\n\t                ),\n\t                element\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return EditCommentContainer;\n\t}(_react.Component);\n\t\n\texports.default = (0, _connectToRedux2.default)(EditCommentContainer);\n\n/***/ },\n\n/***/ 411:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _connectToRedux = __webpack_require__(222);\n\t\n\tvar _connectToRedux2 = _interopRequireDefault(_connectToRedux);\n\t\n\tvar _Comment = __webpack_require__(302);\n\t\n\tvar _Comment2 = _interopRequireDefault(_Comment);\n\t\n\tvar _CommentForm = __webpack_require__(406);\n\t\n\tvar _CommentForm2 = _interopRequireDefault(_CommentForm);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar LastCommentContainer = function (_Component) {\n\t    _inherits(LastCommentContainer, _Component);\n\t\n\t    function LastCommentContainer() {\n\t        _classCallCheck(this, LastCommentContainer);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(LastCommentContainer).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(LastCommentContainer, [{\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            var actions = this.props.actions;\n\t\n\t            actions.fetchComments();\n\t            actions.getLocation();\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _props = this.props;\n\t            var actions = _props.actions;\n\t            var comments = _props.comments;\n\t            var images = _props.images;\n\t            var location = _props.location;\n\t\n\t            var comment = comments[comments.length - 1];\n\t            var element = null;\n\t\n\t            if (comment) {\n\t                // comment will initially be undefined if hitting the detail page directly\n\t                // after receiving data from the API, it will re-render. isomorphism?\n\t                element = _react2.default.createElement(\n\t                    \"div\",\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        \"h3\",\n\t                        null,\n\t                        \"Comment \",\n\t                        comment.objectId\n\t                    ),\n\t                    _react2.default.createElement(_Comment2.default, {\n\t                        commentObj: comment,\n\t                        images: images,\n\t                        actions: actions /* Send all the bound action creators to child components. Does this defeat the purpose of smart/dumb components? */,\n\t                        isDetailView: false\n\t                    }),\n\t                    _react2.default.createElement(\n\t                        \"h4\",\n\t                        null,\n\t                        \"Add a comment\"\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"well\" },\n\t                        _react2.default.createElement(_CommentForm2.default, {\n\t                            commentObj: {} /* when adding new comments, commentObj is empty */,\n\t                            images: images,\n\t                            location: location,\n\t                            actions: actions\n\t                        })\n\t                    )\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"commentBox\" },\n\t                element\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return LastCommentContainer;\n\t}(_react.Component);\n\t\n\texports.default = (0, _connectToRedux2.default)(LastCommentContainer);\n\n/***/ },\n\n/***/ 412:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar About = function (_Component) {\n\t    _inherits(About, _Component);\n\t\n\t    function About() {\n\t        _classCallCheck(this, About);\n\t\n\t        return _possibleConstructorReturn(this, Object.getPrototypeOf(About).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(About, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                _react2.default.createElement(\n\t                    \"h3\",\n\t                    null,\n\t                    \"About\"\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"p\",\n\t                    null,\n\t                    \"Github Code: \",\n\t                    _react2.default.createElement(\n\t                        \"a\",\n\t                        { href: \"https://github.com/saltycrane/react-learning/tree/master/9.2-my-comments\" },\n\t                        \"https://github.com/saltycrane/react-learning/tree/master/9.2-my-comments\"\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return About;\n\t}(_react.Component);\n\t\n\texports.default = About;\n\n/***/ },\n\n/***/ 413:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/* global __DEV__ */\n\tif (false) {\n\t    // use CommonJS `require` instead of ES6 `import` because the\n\t    // latter is not allowed inside an if statement.\n\t    // Uglify will remove dead code branches from the Webpack bundle.\n\t    // https://github.com/gaearon/redux-devtools#exclude-devtools-from-production-builds\n\t    module.exports = require(\"./configureStore.dev\");\n\t} else {\n\t    module.exports = __webpack_require__(414);\n\t}\n\n/***/ },\n\n/***/ 414:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = configureStore;\n\t\n\tvar _redux = __webpack_require__(163);\n\t\n\tvar _reduxThunk = __webpack_require__(415);\n\t\n\tvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\t\n\tvar _reducers = __webpack_require__(416);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar finalCreateStore = (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default))(_redux.createStore);\n\t\n\tfunction configureStore(initialState) {\n\t    return finalCreateStore(_reducers2.default, initialState);\n\t}\n\n/***/ },\n\n/***/ 416:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = rootReducer;\n\t\n\tvar _actions = __webpack_require__(223);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\t/*\n\tconst EXAMPLE_STATE = {\n\t    comments: {\n\t        isFetching: false,\n\t        didInvalidate: false,\n\t        lastUpdated: 1448318665021,\n\t        items: [\n\t            {\n\t                objectId: \"byBV4Yb7F9\",\n\t                author: \"Me\",\n\t                text: \"Hi\",\n\t                images: [\n\t                    {\n\t                        objectId: \"lpN2G3wazs\",\n\t                        commentId: \"byBV4Yb7F9\",\n\t                        file: {\n\t                            name: \"tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\",\n\t                            url: \"http://files.parsetfss.com/815d9717-05cc-4d08-8536-886b4e3cc597/tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\"\n\t                        },\n\t                        createdAt: \"\",\n\t                        updatedAt: \"\"\n\t                    }\n\t                ],\n\t                createdAt: \"2015-11-23T21:23:41.838Z\",\n\t                updatedAt: \"2015-11-23T21:23:41.838Z\",\n\t            }\n\t        ]\n\t    },\n\t\n\t    // images are only for a single selected comment\n\t    images: {\n\t        items: [\n\t            {\n\t                objectId: \"lpN2G3wazs\",\n\t                commentId: \"byBV4Yb7F9\",\n\t                file: {\n\t                    name: \"tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\",\n\t                    url: \"http://files.parsetfss.com/815d9717-05cc-4d08-8536-886b4e3cc597/tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\"\n\t                },\n\t                createdAt: \"\",\n\t                updatedAt: \"\"\n\t            }\n\t        ]\n\t    }\n\t};\n\t*/\n\t\n\tfunction _updateItem(items, id, update) {\n\t    // update an item given the id and new properties and values.\n\t    // using map and Object.assign to avoid mutating state.\n\t    return items.map(function (item) {\n\t        if (item.objectId === id) {\n\t            return Object.assign({}, item, update);\n\t        } else {\n\t            return item;\n\t        }\n\t    });\n\t}\n\t\n\tfunction comments() {\n\t    var state = arguments.length <= 0 || arguments[0] === undefined ? {\n\t        isFetching: false,\n\t        didInvalidate: false,\n\t        items: []\n\t    } : arguments[0];\n\t    var action = arguments[1];\n\t\n\t    var isNewComment = undefined;\n\t    var comments = undefined;\n\t    var comment = undefined;\n\t\n\t    switch (action.type) {\n\t        case _actions.REQUEST_COMMENTS:\n\t            return Object.assign({}, state, {\n\t                isFetching: true,\n\t                didInvalidate: false\n\t            });\n\t        case _actions.RECEIVE_COMMENTS:\n\t            return Object.assign({}, state, {\n\t                isFetching: false,\n\t                didInvalidate: false,\n\t                items: action.comments,\n\t                lastUpdated: action.receivedAt\n\t            });\n\t        case _actions.RECEIVE_COMMENT:\n\t            // this action occurs after receiving the response from the API after saving a comment\n\t            comment = action.comment;\n\t            isNewComment = !state.items.some(function (item) {\n\t                return item.objectId === comment.objectId;\n\t            });\n\t            if (isNewComment) {\n\t                // if adding a new comment, add the new comment to the list\n\t                comments = [].concat(_toConsumableArray(state.items), [comment]);\n\t            } else {\n\t                // if editing an existing comment, replace the old comment with the new comment\n\t                comments = _updateItem(state.items, comment.objectId, comment);\n\t            }\n\t            return Object.assign({}, state, {\n\t                items: comments\n\t            });\n\t        case _actions.DELETE_COMMENT:\n\t            // remove a comment from the list after deleting\n\t            // NOTE: this does not wait for confirmation from the API\n\t            return Object.assign({}, state, {\n\t                items: state.items.filter(function (item) {\n\t                    return item.objectId !== action.id;\n\t                })\n\t            });\n\t        case _actions.DELETE_SAVED_IMAGE:\n\t            // remove image from the comment's images list.\n\t            return Object.assign({}, state, {\n\t                items: _updateItem(state.items, action.comment.objectId, action.comment)\n\t            });\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\t// images that have not been \"saved\" with the comment\n\t// these images are associated only with the single comment being edited\n\tfunction images() {\n\t    var state = arguments.length <= 0 || arguments[0] === undefined ? {\n\t        items: []\n\t    } : arguments[0];\n\t    var action = arguments[1];\n\t\n\t    var images = undefined;\n\t\n\t    switch (action.type) {\n\t        case _actions.RECEIVE_IMAGE:\n\t            images = [].concat(_toConsumableArray(state.items), [action.image]);\n\t            return Object.assign({}, state, {\n\t                items: images\n\t            });\n\t        case _actions.RECEIVE_COMMENT:\n\t            // after saving a comment, clear the list of unsaved images\n\t            return Object.assign({}, state, {\n\t                items: []\n\t            });\n\t        case _actions.DELETE_UNSAVED_IMAGE:\n\t            // remove an image from the list after deleting\n\t            // NOTE: this does not wait for confirmation from the API\n\t            return Object.assign({}, state, {\n\t                items: state.items.filter(function (item) {\n\t                    return item.objectId !== action.id;\n\t                })\n\t            });\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\t// geolocation data\n\tfunction location() {\n\t    var state = arguments.length <= 0 || arguments[0] === undefined ? {\n\t        lat: null,\n\t        lon: null,\n\t        text: null,\n\t        prevText: null\n\t    } : arguments[0];\n\t    var action = arguments[1];\n\t\n\t    var text = undefined;\n\t\n\t    switch (action.type) {\n\t        case _actions.GET_LOCATION_SUCCESS:\n\t            return Object.assign({}, state, {\n\t                lat: action.lat,\n\t                lon: action.lon\n\t            });\n\t        case _actions.SET_LOCATION_FROM_USER_INPUT:\n\t            return Object.assign({}, state, {\n\t                text: action.locationText\n\t            });\n\t        case _actions.SET_LOCATION_FROM_DETECTED:\n\t            text = state.lat + \",\" + state.lon;\n\t            return Object.assign({}, state, {\n\t                text: text,\n\t                prevText: state.text\n\t            });\n\t        case _actions.UNDO_SET_LOCATION:\n\t            return Object.assign({}, state, {\n\t                text: state.prevText\n\t            });\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction rootReducer() {\n\t    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t    var action = arguments[1];\n\t\n\t    return {\n\t        comments: comments(state.comments, action),\n\t        images: images(state.images, action),\n\t        location: location(state.location, action)\n\t    };\n\t}\n\n/***/ },\n\n/***/ 417:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** app.87cc62a74b36b9b75661.js?\n **/","require(\"./scss/style.scss\");\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Root from \"./containers/Root\";\n\n\nReactDOM.render(\n    <Root />,\n    root\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","/* global __DEV__ */\n\nif (__DEV__) {\n    module.exports = require(\"./Root.dev\");\n} else {\n    module.exports = require(\"./Root.prod\");\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/Root.js\n **/","import React, { Component } from \"react\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport configureStore from \"../configureStore\";\n\n\nconst store = configureStore();\n\nexport default class Root extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <App />\n            </Provider>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/Root.prod.js\n **/","import React, { Component } from \"react\";\nimport { Router, Route, Link, History, IndexRedirect } from \"react-router\";\n\nimport CommentDetailContainer from \"./CommentDetailContainer\";\nimport CommentsContainer from \"./CommentsContainer\";\nimport EditCommentContainer from \"./EditCommentContainer\";\nimport LastCommentContainer from \"./LastCommentContainer\";\nimport About from \"../components/About\";\nimport history from \"../history\";\n\n\n// oh no, mixins! See here for alternatives:\n// https://github.com/rackt/react-router/blob/master/docs/API.md#but-im-using-classes\nconst Tab = React.createClass({\n    mixins: [ History ],\n    render() {\n        let isActive = this.history.isActive(this.props.to, this.props.query);\n        let className = isActive ? \"active\" : \"\";\n\n        return (\n            <li className={className}><Link {...this.props} /></li>\n        );\n    }\n});\n\nclass Header extends Component {\n    render() {\n        return (\n            <nav className=\"navbar navbar-default\">\n                <div className=\"container-fluid\">\n                    <div className=\"navbar-header\">\n                        <div className=\"navbar-brand\">H</div>\n                    </div>\n                    <ul className=\"nav navbar-nav\">\n                        <Tab to=\"/comments\">Comments</Tab>\n                        <Tab to=\"/last\">Last Comment</Tab>\n                        <Tab to =\"/about\">About</Tab>\n                    </ul>\n                </div>\n            </nav>\n        );\n    }\n}\n\nclass App extends Component {\n    render() {\n        return (\n            <div>\n                <Header />\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            {this.props.children}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class AppWithRouter extends Component {\n    render() {\n        return (\n            <Router history={history}>\n                <Route path=\"/\" component={App}>\n                    <Route path=\"about\" component={About} />\n                    <Route path=\"comments/:id/edit\" component={EditCommentContainer} />\n                    <Route path=\"comments/:id\" component={CommentDetailContainer} />\n                    <Route path=\"comments\" component={CommentsContainer} />\n                    <Route path=\"last\" component={LastCommentContainer} />\n                    <IndexRedirect to=\"comments\" />\n                </Route>\n            </Router>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/App.js\n **/","import React, { Component } from \"react\";\n\nimport connectToRedux from \"./connectToRedux\";\nimport Comment from \"../components/Comment\";\n\n\nclass CommentDetailContainer extends Component {\n    componentDidMount() {\n        const { actions } = this.props;\n        actions.fetchComments();\n    }\n    render() {\n        const {\n            params: { id },\n            actions,\n            comments,\n            images\n        } = this.props;\n        const comment = comments.find( item => item.objectId === id );\n        let element = null;\n\n        if (comment) {\n            // comment will initially be undefined if hitting the detail page directly\n            // after receiving data from the API, it will re-render. isomorphism?\n            element = (\n                <Comment\n                    commentObj={comment}\n                    images={images}\n                    actions={actions /* Send all the bound action creators to child components. Does this defeat the purpose of smart/dumb components? */}\n                    isDetailView={true}\n                />\n            );\n        }\n\n        return (\n            <div className=\"commentBox\">\n                <h3>Comment {id}</h3>\n                {element}\n            </div>\n        );\n    }\n}\n\nexport default connectToRedux(CommentDetailContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/CommentDetailContainer.js\n **/","import { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nimport {\n    fetchComments,\n    deleteComment,\n    saveComment,\n    editComment,\n    cancelEditComment,\n    saveImage,\n    deleteSavedImage,\n    deleteUnsavedImage,\n    getLocation,\n    setLocationFromUserInput,\n    setLocationFromDetected,\n    undoSetLocation\n} from \"../actions\";\n\n\nfunction mapStateToProps(state) {\n    return {\n        isFetching: state.comments.isFetching,\n        lastUpdated: state.comments.lastUpdated,\n        comments: state.comments.items,\n        images: state.images.items,\n        location: state.location\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            fetchComments,\n            deleteComment,\n            saveComment,\n            editComment,\n            cancelEditComment,\n            saveImage,\n            deleteSavedImage,\n            deleteUnsavedImage,\n            getLocation,\n            setLocationFromUserInput,\n            setLocationFromDetected,\n            undoSetLocation\n        }, dispatch)\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/connectToRedux.js\n **/","import history from \"./history\";\n\nimport * as parse from \"./parse-api\";\n\n\nexport const REQUEST_COMMENTS = \"REQUEST_COMMENTS\";\nexport const RECEIVE_COMMENTS = \"RECEIVE_COMMENTS\";\nexport const SAVE_COMMENT = \"SAVE_COMMENT\";\nexport const RECEIVE_COMMENT = \"RECEIVE_COMMENT\";\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\nexport const SAVE_IMAGE = \"SAVE_IMAGE\";\nexport const RECEIVE_IMAGE = \"RECEIVE_IMAGE\";\nexport const DELETE_SAVED_IMAGE = \"DELETE_SAVED_IMAGE\";\nexport const DELETE_UNSAVED_IMAGE = \"DELETE_UNSAVED_IMAGE\";\nexport const GET_LOCATION = \"GET_LOCATION\";\nexport const GET_LOCATION_SUCCESS = \"GET_LOCATION_SUCCESS\";\nexport const SET_LOCATION_FROM_USER_INPUT = \"SET_LOCATION_FROM_USER_INPUT\";\nexport const SET_LOCATION_FROM_DETECTED = \"SET_LOCATION_FROM_DETECTED\";\nexport const UNDO_SET_LOCATION = \"UNDO_SET_LOCATION\";\n\n// ================\n// private functions\n// ================\nfunction _requestComments() {\n    return {\n        type: REQUEST_COMMENTS\n    };\n}\n\nfunction _receiveComments(json) {\n    return {\n        type: RECEIVE_COMMENTS,\n        comments: json,\n        receivedAt: Date.now()\n    };\n}\n\nfunction _saveComment(comment) {\n    return {\n        type: SAVE_COMMENT,\n        comment: comment\n    };\n}\n\nfunction _receiveComment(comment) {\n    return {\n        type: RECEIVE_COMMENT,\n        comment: comment\n    };\n}\n\nfunction _deleteComment(id) {\n    return {\n        type: DELETE_COMMENT,\n        id: id\n    };\n}\n\nfunction _receiveImage(image) {\n    return {\n        type: RECEIVE_IMAGE,\n        image: image\n    };\n}\n\nfunction _deleteSavedImage(id, comment) {\n    return {\n        type: DELETE_SAVED_IMAGE,\n        id: id,\n        comment: comment\n    };\n}\n\nfunction _deleteUnsavedImage(id) {\n    return {\n        type: DELETE_UNSAVED_IMAGE,\n        id: id\n    };\n}\n\nfunction _actuallyFetchComments() {\n    return dispatch => {\n        dispatch(_requestComments());\n        parse.getComments(results => dispatch(_receiveComments(results)));\n    };\n}\n\nfunction _shouldFetch(state) {\n    const { comments } = state;\n\n    if (comments.isFetching) {\n        return false;\n    } else if (comments.items.length > 0) {\n        // assume the API always returns data.\n        // if this is not the case, add another flag, `hydrated`, or something\n        return false;\n    } else {\n        return true;\n    }\n}\n\nfunction _getLocation() {\n    return {\n        type: GET_LOCATION\n    };\n}\n\n// coords: {latitude, longitude}\nfunction _getLocationSuccess(coords) {\n    return {\n        type: GET_LOCATION_SUCCESS,\n        lat: coords.latitude,\n        lon: coords.longitude\n    };\n}\n\n// ================\n// public functions\n// ================\n// fetch comments if not already cached\nexport function fetchComments() {\n    return (dispatch, getState) => {\n        if (_shouldFetch(getState())) {\n            return dispatch(_actuallyFetchComments());\n        } else {\n            return Promise.resolve();\n        }\n    };\n}\n\nexport function saveComment(comment) {\n    return dispatch => {\n        dispatch(_saveComment(comment));\n        parse.saveComment(comment, result => dispatch(_receiveComment(result)));\n    };\n}\n\nexport function deleteComment(id, isDetailView = false) {\n    return dispatch => {\n        dispatch(_deleteComment(id));\n        if (isDetailView) {\n            history.goBack();\n        }\n        parse.deleteComment(id);\n    };\n}\n\nexport function saveImage(file) {\n    return dispatch => {\n        parse.saveImage(file, image => dispatch(_receiveImage(image)));\n    };\n}\n\n// delete the Image row and update the Comment images list\n// a \"saved image\" means an image saved with a comment\nexport function deleteSavedImage(id, comment) {\n    const images = comment.images.filter(item => item.objectId !== id);\n    let newComment = Object.assign({}, comment, {\n        images: images\n    });\n\n    return dispatch => {\n        dispatch(_deleteSavedImage(id, newComment));\n        parse.deleteImage(id);\n        parse.saveComment(newComment);\n    };\n}\n\n// delete the Image row\n// an \"unsaved image\" means an image not saved with a comment\nexport function deleteUnsavedImage(id) {\n    return dispatch => {\n        dispatch(_deleteUnsavedImage(id));\n        parse.deleteImage(id);\n    };\n}\n\n// locationText: string\nexport function setLocationFromUserInput(locationText) {\n    return {\n        type: SET_LOCATION_FROM_USER_INPUT,\n        locationText: locationText\n    };\n}\n\nexport function setLocationFromDetected() {\n    // perform a getLocation() for next time around.\n    // not sure the best way to handle this.\n    getLocation();\n\n    return {\n        type: SET_LOCATION_FROM_DETECTED\n    };\n}\n\nexport function undoSetLocation() {\n    return {\n        type: UNDO_SET_LOCATION\n    };\n}\n\nexport function getLocation() {\n    return dispatch => {\n        dispatch(_getLocation());\n        navigator.geolocation.getCurrentPosition(\n            position => {\n                dispatch(_getLocationSuccess(position.coords));\n            },\n            err => {\n                console.error(`ERROR(${err.code}): ${err.message}`);\n            },\n            {\n                enableHighAccuracy: true\n            }\n        );\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions.js\n **/","import createHashHistory from \"history/lib/createHashHistory\";\n\nexport default createHashHistory();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/history.js\n **/","import Parse from \"parse\";\n\n\nParse.initialize(\"rdOxoEPZqN4I8RvIkmcWmPK0xcaR7EfrIDj0WFYh\", \"EFEekvA7WVsPTN0SGiNYsHWvaiUiSdwWiJoZ6pMU\");\n\nexport let Comment = Parse.Object.extend(\"Comment\");\nlet Image = Parse.Object.extend(\"Image\");\n\nexport function getComments(callback) {\n    let query = new Parse.Query(Comment);\n    query.include(\"images\");\n    query.find()\n        .done(function(results) {\n            const jsonResults = results.map(function(item) {\n                return item.toJSON();\n            });\n            callback(jsonResults);\n        })\n        .fail(function(error) {\n            console.error(\"Error: \" + error.code + \" \" + error.meessage);\n        });\n}\n\nexport function saveComment(data, callback) {\n    let comment = new Comment();\n    // \"unsaved images\" are images that are not yet saved with a comment\n    const unsavedImages = data.images.filter(function (item) {\n        return !item.commentId;\n    });\n\n    comment.save(data)\n        .done(function(object) {\n            const commentId = object.id;\n\n            // update the commentId field for any images that do not have\n            // a commentId yet (\"unsaved images\")\n            unsavedImages.forEach(function (image) {\n                linkImageToComment(image, commentId);\n            });\n\n            if (callback) {\n                callback(object.toJSON());\n            }\n        });\n}\n\nexport function deleteComment(id) {\n    let comment = new Comment();\n    comment.id = id;\n    comment.destroy();\n    // TODO: error handling. on failure, put the comment back in the state.\n}\n\n// first save the File object, then store the file in the Image table\n// file - a file object uploaded via a file <input>\nexport function saveImage(file, callback) {\n    let parseFile = new Parse.File(file.name, file);\n    parseFile.save()\n        .done(function() {\n            let image = new Image();\n            image.save({\n                file: parseFile\n            }).done(function(object) {\n                callback(object.toJSON());\n            });\n        });\n}\n\nexport function linkImageToComment(imageData, commentId) {\n    let image = new Image();\n    imageData.commentId = commentId;\n    image.save(imageData);\n}\n\nexport function deleteImage(id) {\n    let image = new Image();\n    image.id = id;\n    image.destroy();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/parse-api.js\n **/","import React, { Component } from \"react\";\nimport { Link } from \"react-router\";\nimport marked from \"marked\";\n\nimport StaticMap from \"./StaticMap\";\nimport * as util from \"../util\";\n\n\nexport default class Comment extends Component {\n    _rawMarkup() {\n        const { commentObj } = this.props;\n        let rawMarkup = null;\n\n        if (commentObj.text) {\n            rawMarkup = marked(commentObj.text.toString(), {sanitize: true});\n        }\n        return { __html: rawMarkup };\n    }\n    _renderImages() {\n        const { commentObj } = this.props;\n        let element = null;\n\n        if (commentObj.images) {\n            element = commentObj.images.map(function(image) {\n                return (\n                    <a href={image.file.url} key={image.objectId}>\n                        <img\n                            src={image.file.url}\n                            height=\"150px\"\n                        />\n                    </a>\n                );\n            });\n        }\n        return element;\n    }\n    render() {\n        const { commentObj, actions, isDetailView = false } = this.props;\n        let viewButton = null;\n\n        if (!isDetailView) {\n            viewButton = (\n                <Link\n                    className=\"btn btn-default\"\n                    to={`/comments/${commentObj.objectId}`}\n                >View</Link>\n            );\n        }\n\n        return (\n            <div className=\"comment well\">\n                <div className=\"clearfix\">\n                    <h5>\n                        {commentObj.author}&nbsp;\n                        <small>\n                            created {util.formatDate(commentObj.createdAt)}\n                            &nbsp;|&nbsp;\n                            updated {util.formatDate(commentObj.updatedAt)}\n                        </small>\n                    </h5>\n                    <div className=\"pull-right\">\n                        <StaticMap location={commentObj.location} />\n                    </div>\n                    <span dangerouslySetInnerHTML={this._rawMarkup()} />\n                    <div className=\"margin-md-bottom\">\n                        {this._renderImages()}\n                    </div>\n                    <div>\n                        <button\n                            className=\"btn btn-default margin-md-right\"\n                            onClick={() => actions.deleteComment(commentObj.objectId, isDetailView)}\n                        >Delete</button>\n                        <Link\n                            className=\"btn btn-default margin-md-right\"\n                            to={`/comments/${commentObj.objectId}/edit`}\n                        >Edit</Link>\n                        {viewButton}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Comment.js\n **/","import React, { Component } from \"react\";\n\n\nexport default class StaticMap extends Component {\n    render() {\n        const { location } = this.props;\n        let locationElement = null;\n\n        if (location) {\n            let mapUrl = `http://maps.googleapis.com/maps/api/staticmap?size=275x275&zoom=12&markers=color:red|${location}`;\n            locationElement = (\n                <div>\n                    <a href={`https://www.google.com/maps/place/${location}`}>\n                        <img src={mapUrl} className=\"img-responsive\" />\n                        <div className=\"comment-metadata\">\n                            Location: {location}\n                        </div>\n                    </a>\n                </div>\n            );\n        }\n        return locationElement;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/StaticMap.js\n **/","import moment from \"moment\";\n\n\nexport function formatDate(isodate) {\n    return moment(isodate).format(\"YYYY-MM-DD h:mm a\");\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","import React, { Component } from \"react\";\n\nimport connectToRedux from \"./connectToRedux\";\nimport CommentForm from \"../components/CommentForm\";\nimport CommentList from \"../components/CommentList\";\n\n\nclass CommentsContainer extends Component {\n    componentDidMount() {\n        const { actions } = this.props;\n        actions.fetchComments();\n    }\n    render() {\n        const { comments, images, location, actions } = this.props;\n\n        return (\n            <div className=\"commentBox\">\n                <h3>Comments</h3>\n                <CommentList\n                    data={comments}\n                    actions={actions}\n                />\n                <div>\n                    <h4>Add a comment</h4>\n                    <div className=\"well\">\n                        <CommentForm\n                            commentObj={{} /* when adding new comments, commentObj is empty */}\n                            images={images}\n                            location={location}\n                            actions={actions}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connectToRedux(CommentsContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/CommentsContainer.js\n **/","import React, { Component } from \"react\";\n\nimport ImageForm from \"./ImageForm\";\nimport LocationForm from \"./LocationForm\";\nimport history from \"../history\";\n\n\nfunction _union(first, second, key) {\n    // merge the two arrays ensuring each item is unique (based on key)\n    // better way to do this?\n    const merged = [...first, ...second];\n    const vals = merged.map(item => item[key]);\n    const uniqueVals = [...(new Set(vals))];\n\n    return uniqueVals.map(function (val) {\n        return merged.find(item => item[key] === val);\n    });\n}\n\nexport default class CommentForm extends Component {\n    constructor(props) {\n        super(props);\n        this._handleSave = this._handleSave.bind(this);\n    }\n    _handleSave(e) {\n        e.preventDefault();\n        const { commentObj, images, actions, isEditView = false } = this.props;\n        const author = this._authorInput.value.trim();\n        const text = this._textInput.value.trim();\n        const location = this._locationForm.getValue();\n        let allImages;\n\n        // TODO: perform the union in reducers.js\n        // get the union of the existing images and the newly added images\n        if (commentObj.images) {\n            allImages = _union(commentObj.images, images, \"objectId\");\n        } else {\n            allImages = images;\n        }\n\n        const newCommentObj = Object.assign({}, commentObj, {\n            author: author,\n            text: text,\n            location: location,\n            images: allImages\n        });\n\n        if (!text || !author) {\n            return;\n        }\n        actions.saveComment(newCommentObj);\n        this._authorInput.value = \"\";\n        this._textInput.value = \"\";\n        if (isEditView) {\n            history.goBack();\n        }\n    }\n    render() {\n        const { commentObj, images, location, actions, isEditView = false } = this.props;\n        let cancelButton = null;\n\n        if (isEditView) {\n            cancelButton = (\n                <span\n                    className=\"btn btn-default margin-md-right\"\n                    onClick={history.goBack}\n                >Cancel</span>\n            );\n        }\n\n        return (\n            <form onSubmit={this._handleSave}>\n                <div className=\"form-group\">\n                    <label>Name</label>\n                    <input\n                        className=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"Your name\"\n                        defaultValue={commentObj.author}\n                        ref={(c) => this._authorInput = c} />\n                </div>\n                <div className=\"form-group\">\n                    <label>Comment</label>\n                    <textarea\n                        className=\"form-control\"\n                        rows=\"5\"\n                        type=\"text\"\n                        placeholder=\"Say something...\"\n                        defaultValue={commentObj.text}\n                        ref={(c) => this._textInput = c} />\n                </div>\n                <LocationForm\n                    location={location}\n                    actions={actions}\n                    initialLocationText={commentObj.location}\n                    ref={(c) => this._locationForm = c}\n                />\n                <div className=\"margin-md-bottom\">\n                    <ImageForm\n                        commentObj={commentObj}\n                        images={images}\n                        actions={actions}\n                    />\n                </div>\n                {cancelButton}\n                <button className=\"btn btn-primary\" type=\"submit\">Save</button>\n            </form>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/CommentForm.js\n **/","import React, { Component } from \"react\";\n\n\nclass DeletableImage extends Component {\n    render() {\n        const { image, onDelete } = this.props;\n\n        return (\n            <div className=\"img-container\">\n                <img\n                    src={image.file.url}\n                    height=\"150px\"\n                />\n                <span\n                    className=\"btn-delete btn btn-default\"\n                    onClick={onDelete}\n                >\n                    <i className=\"fa fa-times\"></i>\n                </span>\n            </div>\n        );\n    }\n}\n\nexport default class ImageForm extends Component {\n    constructor(props) {\n        super(props);\n        this._handleFileChange = this._handleFileChange.bind(this);\n    }\n    _handleFileChange(e) {\n        const { actions } = this.props;\n        const file = e.target.files[0];\n        actions.saveImage(file);\n    }\n    _renderFileInput() {\n        return (\n            <div className=\"form-group\">\n                <label>Add Image</label>\n                <input\n                    className=\"form-control\"\n                    type=\"file\"\n                    onChange={this._handleFileChange}\n                    ref={(c) => this._fileInput = c}\n                />\n            </div>\n        );\n    }\n    _renderImages() {\n        const { commentObj, images, actions } = this.props;\n        let savedImages = null;\n        let unsavedImages = null;\n\n        if (commentObj.images) {\n            savedImages = commentObj.images.map(function(image) {\n                return (\n                    <DeletableImage\n                        key={image.objectId}\n                        image={image}\n                        onDelete={() => actions.deleteSavedImage(image.objectId, commentObj)}\n                    />\n                );\n            });\n        }\n        if (images) {\n            unsavedImages = images.map(function(image) {\n                return (\n                    <DeletableImage\n                        key={image.objectId}\n                        image={image}\n                        onDelete={() => actions.deleteUnsavedImage(image.objectId)}\n                    />\n                );\n            });\n        }\n        return (\n            <div>\n                {savedImages}\n                {unsavedImages}\n            </div>\n        );\n    }\n    render() {\n        return (\n            <div>\n                {this._renderFileInput()}\n                {this._renderImages()}\n            </div>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/ImageForm.js\n **/","import React, { Component } from \"react\";\n\nimport StaticMap from \"./StaticMap\";\n\n\nexport default class LocationForm extends Component {\n    constructor(props) {\n        super(props);\n        this._handleLocationChange = this._handleLocationChange.bind(this);\n    }\n    componentDidMount() {\n        const { initialLocationText, actions } = this.props;\n        actions.setLocationFromUserInput(initialLocationText);\n        actions.getLocation();\n    }\n    _handleLocationChange(e) {\n        const { actions } = this.props;\n        actions.setLocationFromUserInput(e.target.value);\n    }\n    render() {\n        const {\n            location: {\n                text: locationText\n            },\n            actions\n        } = this.props;\n\n        return (\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <label>Location</label>\n                    <div className=\"margin-md-bottom\">\n                        <div className=\"form-group\">\n                            <input\n                                className=\"form-control margin-sm-bottom\"\n                                type=\"text\"\n                                value={locationText}\n                                onChange={this._handleLocationChange}\n                                ref={(c) => this._locationInput = c}\n                            />\n                            <button\n                                className=\"btn btn-default margin-sm-right\"\n                                type=\"button\"\n                                onClick={actions.setLocationFromDetected}\n                            >Get Location</button>\n                            <button\n                                className=\"btn btn-default\"\n                                type=\"button\"\n                                onClick={actions.undoSetLocation}\n                            >Undo</button>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-md-6\">\n                    <StaticMap location={locationText} />\n                </div>\n            </div>\n        );\n    }\n    // called by owner component via this.refs\n    // https://facebook.github.io/react/tips/expose-component-functions.html\n    // TODO: better way?\n    getValue() {\n        return this._locationInput.value.trim();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/LocationForm.js\n **/","import React, { Component } from \"react\";\n\nimport Comment from \"./Comment\";\n\n\nexport default class CommentList extends Component {\n    render() {\n        const { data, actions } = this.props;\n        const commentNodes = data.map(function(comment) {\n            return (\n                <Comment\n                    key={comment.objectId}\n                    commentObj={comment}\n                    actions={actions}\n                />\n            );\n        });\n        return (\n            <div className=\"commentList\">\n                {commentNodes}\n            </div>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/CommentList.js\n **/","import React, { Component } from \"react\";\n\nimport connectToRedux from \"./connectToRedux\";\nimport CommentForm from \"../components/CommentForm\";\nimport * as util from \"../util\";\n\n\nclass EditCommentContainer extends Component {\n    componentDidMount() {\n        const { actions } = this.props;\n        actions.fetchComments();\n    }\n    render() {\n        const {\n            params: { id },\n            actions,\n            comments,\n            images,\n            location\n        } = this.props;\n        const commentObj = comments.find( item => item.objectId === id );\n        let element = null;\n\n        if (commentObj) {\n            element = (\n                <div className=\"well\">\n                    <div className=\"comment-metadata margin-md-bottom\">\n                        created {util.formatDate(commentObj.createdAt)}\n                        &nbsp;|&nbsp;\n                        updated {util.formatDate(commentObj.updatedAt)}\n                    </div>\n                    <div className=\"margin-md-bottom\">\n                        <CommentForm\n                            commentObj={commentObj}\n                            images={images}\n                            location={location}\n                            actions={actions}\n                            isEditView={true}\n                        />\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"commentBox\">\n                <h3>Editing Comment {id}</h3>\n                {element}\n            </div>\n        );\n    }\n}\n\nexport default connectToRedux(EditCommentContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/EditCommentContainer.js\n **/","import React, { Component } from \"react\";\n\nimport connectToRedux from \"./connectToRedux\";\nimport Comment from \"../components/Comment\";\nimport CommentForm from \"../components/CommentForm\";\n\n\nclass LastCommentContainer extends Component {\n    componentDidMount() {\n        const { actions } = this.props;\n        actions.fetchComments();\n        actions.getLocation();\n    }\n    render() {\n        const {\n            actions,\n            comments,\n            images,\n            location\n        } = this.props;\n        const comment = comments[comments.length - 1];\n        let element = null;\n\n        if (comment) {\n            // comment will initially be undefined if hitting the detail page directly\n            // after receiving data from the API, it will re-render. isomorphism?\n            element = (\n                <div>\n                    <h3>Comment {comment.objectId}</h3>\n                    <Comment\n                        commentObj={comment}\n                        images={images}\n                        actions={actions /* Send all the bound action creators to child components. Does this defeat the purpose of smart/dumb components? */}\n                        isDetailView={false}\n                    />\n                    <h4>Add a comment</h4>\n                    <div className=\"well\">\n                        <CommentForm\n                            commentObj={{} /* when adding new comments, commentObj is empty */}\n                            images={images}\n                            location={location}\n                            actions={actions}\n                        />\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"commentBox\">\n                {element}\n            </div>\n        );\n    }\n}\n\nexport default connectToRedux(LastCommentContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/containers/LastCommentContainer.js\n **/","import React, { Component } from \"react\";\n\n\nexport default class About extends Component {\n    render() {\n        return (\n            <div>\n                <h3>About</h3>\n                <p>Github Code: <a href=\"https://github.com/saltycrane/react-learning/tree/master/9.2-my-comments\">https://github.com/saltycrane/react-learning/tree/master/9.2-my-comments</a></p>\n            </div>\n        );\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/About.js\n **/","/* global __DEV__ */\nif (__DEV__) {\n    // use CommonJS `require` instead of ES6 `import` because the\n    // latter is not allowed inside an if statement.\n    // Uglify will remove dead code branches from the Webpack bundle.\n    // https://github.com/gaearon/redux-devtools#exclude-devtools-from-production-builds\n    module.exports = require(\"./configureStore.dev\");\n} else {\n    module.exports = require(\"./configureStore.prod\");\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/configureStore.js\n **/","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\n\nimport rootReducer from \"./reducers\";\n\n\nconst finalCreateStore = compose(\n    applyMiddleware(thunkMiddleware)\n)(createStore);\n\nexport default function configureStore(initialState) {\n    return finalCreateStore(rootReducer, initialState);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/configureStore.prod.js\n **/","import {\n    REQUEST_COMMENTS,\n    RECEIVE_COMMENTS,\n    RECEIVE_COMMENT,\n    DELETE_COMMENT,\n    RECEIVE_IMAGE,\n    DELETE_SAVED_IMAGE,\n    DELETE_UNSAVED_IMAGE,\n    GET_LOCATION_SUCCESS,\n    SET_LOCATION_FROM_USER_INPUT,\n    SET_LOCATION_FROM_DETECTED,\n    UNDO_SET_LOCATION\n} from \"./actions\";\n\n\n/*\nconst EXAMPLE_STATE = {\n    comments: {\n        isFetching: false,\n        didInvalidate: false,\n        lastUpdated: 1448318665021,\n        items: [\n            {\n                objectId: \"byBV4Yb7F9\",\n                author: \"Me\",\n                text: \"Hi\",\n                images: [\n                    {\n                        objectId: \"lpN2G3wazs\",\n                        commentId: \"byBV4Yb7F9\",\n                        file: {\n                            name: \"tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\",\n                            url: \"http://files.parsetfss.com/815d9717-05cc-4d08-8536-886b4e3cc597/tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\"\n                        },\n                        createdAt: \"\",\n                        updatedAt: \"\"\n                    }\n                ],\n                createdAt: \"2015-11-23T21:23:41.838Z\",\n                updatedAt: \"2015-11-23T21:23:41.838Z\",\n            }\n        ]\n    },\n\n    // images are only for a single selected comment\n    images: {\n        items: [\n            {\n                objectId: \"lpN2G3wazs\",\n                commentId: \"byBV4Yb7F9\",\n                file: {\n                    name: \"tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\",\n                    url: \"http://files.parsetfss.com/815d9717-05cc-4d08-8536-886b4e3cc597/tfss-f20185b0-4ea0-4254-8860-77c1f1f64a64-richard-stallman.jpg\"\n                },\n                createdAt: \"\",\n                updatedAt: \"\"\n            }\n        ]\n    }\n};\n*/\n\nfunction _updateItem(items, id, update) {\n    // update an item given the id and new properties and values.\n    // using map and Object.assign to avoid mutating state.\n    return items.map(function (item) {\n        if (item.objectId === id) {\n            return Object.assign({}, item, update);\n        } else {\n            return item;\n        }\n    });\n}\n\nfunction comments(state = {\n    isFetching: false,\n    didInvalidate: false,\n    items: []\n}, action) {\n    let isNewComment;\n    let comments;\n    let comment;\n\n    switch (action.type) {\n        case REQUEST_COMMENTS:\n            return Object.assign({}, state, {\n                isFetching: true,\n                didInvalidate: false\n            });\n        case RECEIVE_COMMENTS:\n            return Object.assign({}, state, {\n                isFetching: false,\n                didInvalidate: false,\n                items: action.comments,\n                lastUpdated: action.receivedAt\n            });\n        case RECEIVE_COMMENT:\n            // this action occurs after receiving the response from the API after saving a comment\n            comment = action.comment;\n            isNewComment = !state.items.some(\n                item => item.objectId === comment.objectId);\n            if (isNewComment) {\n                // if adding a new comment, add the new comment to the list\n                comments = [...state.items, comment];\n            } else {\n                // if editing an existing comment, replace the old comment with the new comment\n                comments = _updateItem(state.items, comment.objectId, comment);\n            }\n            return Object.assign({}, state, {\n                items: comments\n            });\n        case DELETE_COMMENT:\n            // remove a comment from the list after deleting\n            // NOTE: this does not wait for confirmation from the API\n            return Object.assign({}, state, {\n                items: state.items.filter(item => item.objectId !== action.id)\n            });\n        case DELETE_SAVED_IMAGE:\n            // remove image from the comment's images list.\n            return Object.assign({}, state, {\n                items: _updateItem(state.items, action.comment.objectId, action.comment)\n            });\n        default:\n            return state;\n    }\n}\n\n// images that have not been \"saved\" with the comment\n// these images are associated only with the single comment being edited\nfunction images(state = {\n    items: []\n}, action) {\n    let images;\n\n    switch (action.type) {\n        case RECEIVE_IMAGE:\n            images = [...state.items, action.image];\n            return Object.assign({}, state, {\n                items: images\n            });\n        case RECEIVE_COMMENT:\n            // after saving a comment, clear the list of unsaved images\n            return Object.assign({}, state, {\n                items: []\n            });\n        case DELETE_UNSAVED_IMAGE:\n            // remove an image from the list after deleting\n            // NOTE: this does not wait for confirmation from the API\n            return Object.assign({}, state, {\n                items: state.items.filter(item => item.objectId !== action.id)\n            });\n        default:\n            return state;\n    }\n}\n\n// geolocation data\nfunction location(state = {\n    lat: null,\n    lon: null,\n    text: null,\n    prevText: null\n}, action) {\n    let text;\n\n    switch (action.type) {\n        case GET_LOCATION_SUCCESS:\n            return Object.assign({}, state, {\n                lat: action.lat,\n                lon: action.lon\n            });\n        case SET_LOCATION_FROM_USER_INPUT:\n            return Object.assign({}, state, {\n                text: action.locationText\n            });\n        case SET_LOCATION_FROM_DETECTED:\n            text = state.lat + \",\" + state.lon;\n            return Object.assign({}, state, {\n                text: text,\n                prevText: state.text\n            });\n        case UNDO_SET_LOCATION:\n            return Object.assign({}, state, {\n                text: state.prevText\n            });\n        default:\n            return state;\n    }\n}\n\nexport default function rootReducer(state = {}, action) {\n    return {\n        comments: comments(state.comments, action),\n        images: images(state.images, action),\n        location: location(state.location, action)\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers.js\n **/"],"sourceRoot":""}